# 5th of August

## Research
* The laser sensor brings the meassures in a **counter-clockwise** from the front side. If we take 60ยบ in the angle of view 
  of the camera, we have to take 30 meassures from the init of the vector, and 30 of the last. The last have to be reordered.
* Rotation is expressed in **radians**, so it is better to addapt the values.
* **Rotation reference**: counter-clockwise is **positive**, in other case **negative**
* In order to express rotation according to the reference frame, we have to take the quaternion. transform to Euler angles, and get elemental rotation over **z-axis**. In the 360ยบ circunference, from 0 to 180 is positive, from 0 to -180 negative. Once again, the rotation is expressed in radians.

```python
#!/usr/bin/env python
# Author: Victor Martinez

import numpy as np
import rospy
import tf
from std_msgs.msg import String
from tf2_msgs.msg import TFMessage


class Reader(object):

    def __init__(self):
        self._pose_sub = rospy.Subscriber('/tf', TFMessage, self._callbackRead, queue_size=1)

    def _callbackRead(self, read_pose):
        try:
            #print(read_pose.transforms[0].transform.rotation)
            #print("\n")
            
            orientation = [0,0,0,0]
            orientation[0] = read_pose.transforms[0].transform.rotation.x
            orientation[1] = read_pose.transforms[0].transform.rotation.y
            orientation[2] = read_pose.transforms[0].transform.rotation.z
            orientation[3] = read_pose.transforms[0].transform.rotation.w
            
            angles = tf.transformations.euler_from_quaternion(orientation)
            #print(orientation)
            print(angles[2])
            print("\n")

        except Exception as e:
            template = "An exception of type {0} occurred. Place:\n{1}"
            print(template.format(type(e).__name__, "Reader node"))
            raise

    def startOperation(self):
        rospy.init_node('pose_reader', anonymous=True)
        rospy.spin()

def main(args=None):
    reader = Reader()
    print(">> Starting iou filter.")
    try:
        reader.startOperation()
    except KeyboardInterrupt:
        print(">>Shutting down iou filter.")

if __name__ == '__main__':
    main()
```
